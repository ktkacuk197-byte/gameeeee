<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Windows 10 Игровой Центр</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #0078d7;
            height: 100vh;
            overflow: hidden;
            touch-action: manipulation;
        }

        /* Рабочий стол */
        .desktop {
            width: 100%;
            height: calc(100vh - 40px);
            background-image: url('https://images.unsplash.com/photo-1550745165-9bc0b252726f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80');
            background-size: cover;
            background-position: center;
            padding: 20px;
            display: flex;
            flex-direction: column;
            flex-wrap: wrap;
            gap: 25px;
            overflow: hidden;
        }

        /* Иконки приложений */
        .app-icon {
            width: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 10px 5px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            color: white;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
        }

        .app-icon:hover, .app-icon:active {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .app-icon img {
            width: 48px;
            height: 48px;
            margin-bottom: 5px;
        }

        .app-icon i {
            font-size: 48px;
            margin-bottom: 5px;
        }

        .app-name {
            font-size: 12px;
            margin-top: 5px;
            word-break: break-word;
        }

        /* Панель задач */
        .taskbar {
            background-color: #1a1a1a;
            height: 40px;
            width: 100%;
            position: fixed;
            bottom: 0;
            left: 0;
            display: flex;
            align-items: center;
            padding: 0 10px;
            z-index: 1000;
        }

        .start-button {
            color: white;
            background-color: transparent;
            border: none;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
            border-radius: 3px;
            transition: background-color 0.2s;
        }

        .start-button:hover, .start-button:active {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .time {
            color: white;
            margin-left: auto;
            font-size: 14px;
        }

        /* Окна игр */
        .game-window {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 800px;
            height: 80vh;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            z-index: 1001;
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        .window-header {
            background-color: #0078d7;
            color: white;
            padding: 12px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 500;
            cursor: move;
        }

        .window-controls {
            display: flex;
            gap: 10px;
        }

        .window-control {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            cursor: pointer;
        }

        .close {
            background-color: #ff5f57;
        }

        .minimize {
            background-color: #ffbd2e;
        }

        .maximize {
            background-color: #28ca42;
        }

        .game-content {
            flex: 1;
            overflow: auto;
            padding: 0;
        }

        /* Контейнер для Flappy Bird */
        #flappy-container {
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, #4ec0ca 0%, #1a5f7a 100%);
            position: relative;
            overflow: hidden;
        }

        #game-canvas {
            display: block;
            width: 100%;
            height: 100%;
        }

        /* Кнопка запуска игры */
        .start-game-btn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #ffbd2e;
            color: #000;
            border: none;
            padding: 15px 30px;
            font-size: 20px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.2s;
        }

        .start-game-btn:hover, .start-game-btn:active {
            background-color: #ffa500;
            transform: translate(-50%, -50%) scale(1.05);
        }

        /* Счетчик очков */
        .score {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 40px;
            color: white;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            z-index: 10;
        }

        /* Адаптация для мобильных устройств */
        @media (max-width: 768px) {
            .desktop {
                gap: 15px;
                padding: 15px;
            }
            
            .app-icon {
                width: 70px;
            }
            
            .app-icon i, .app-icon img {
                width: 42px;
                height: 42px;
                font-size: 42px;
            }
            
            .game-window {
                width: 95%;
                height: 85vh;
            }
            
            .start-game-btn {
                padding: 12px 25px;
                font-size: 18px;
            }
        }

        /* Затемнение фона */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            display: none;
        }

        /* Уведомление */
        .notification {
            position: fixed;
            bottom: 50px;
            right: 20px;
            background-color: #0078d7;
            color: white;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 1002;
            display: none;
            max-width: 300px;
        }
    </style>
</head>
<body>
    <!-- Рабочий стол с иконками -->
    <div class="desktop" id="desktop">
        <div class="app-icon" onclick="openGame('flappy-bird')">
            <i class="fas fa-dove" style="color: #4ec0ca;"></i>
            <span class="app-name">Flappy Bird</span>
        </div>
        
        <div class="app-icon" onclick="showNotification('Игра в разработке')">
            <i class="fas fa-gamepad" style="color: #ff5f57;"></i>
            <span class="app-name">Гонки</span>
        </div>
        
        <div class="app-icon" onclick="showNotification('Игра в разработке')">
            <i class="fas fa-puzzle-piece" style="color: #28ca42;"></i>
            <span class="app-name">Паззлы</span>
        </div>
        
        <div class="app-icon" onclick="showNotification('Игра в разработке')">
            <i class="fas fa-chess-board" style="color: #ffbd2e;"></i>
            <span class="app-name">Шахматы</span>
        </div>
        
        <div class="app-icon" onclick="showNotification('Игра в разработке')">
            <i class="fas fa-meteor" style="color: #9c27b0;"></i>
            <span class="app-name">Космос</span>
        </div>
        
        <div class="app-icon" onclick="showNotification('Игра в разработке')">
            <i class="fas fa-futbol" style="color: #4caf50;"></i>
            <span class="app-name">Футбол</span>
        </div>
    </div>

    <!-- Панель задач -->
    <div class="taskbar">
        <button class="start-button" onclick="toggleStartMenu()">
            <i class="fab fa-windows"></i>
            <span>Start</span>
        </button>
        
        <div class="time" id="current-time">00:00</div>
    </div>

    <!-- Окно Flappy Bird -->
    <div class="game-window" id="flappy-bird-window">
        <div class="window-header">
            <span>Flappy Bird</span>
            <div class="window-controls">
                <div class="window-control minimize" onclick="minimizeWindow('flappy-bird')"></div>
                <div class="window-control maximize" onclick="maximizeWindow('flappy-bird')"></div>
                <div class="window-control close" onclick="closeWindow('flappy-bird')"></div>
            </div>
        </div>
        <div class="game-content">
            <div id="flappy-container">
                <canvas id="game-canvas"></canvas>
                <div class="score" id="score">0</div>
                <button class="start-game-btn" id="start-btn" onclick="startGame()">Играть!</button>
            </div>
        </div>
    </div>

    <!-- Затемнение фона -->
    <div class="overlay" id="overlay" onclick="closeAllWindows()"></div>

    <!-- Уведомление -->
    <div class="notification" id="notification">
        <div id="notification-text">Текст уведомления</div>
    </div>

    <script>
        // Обновление времени
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            document.getElementById('current-time').textContent = timeString;
        }
        
        setInterval(updateTime, 1000);
        updateTime();

        // Управление окнами игр
        let activeWindow = null;
        
        function openGame(gameId) {
            // Закрываем все окна
            closeAllWindows();
            
            // Открываем выбранное окно
            const windowElement = document.getElementById(`${gameId}-window`);
            const overlay = document.getElementById('overlay');
            
            if (windowElement) {
                windowElement.style.display = 'flex';
                overlay.style.display = 'block';
                activeWindow = gameId;
                
                // Если это Flappy Bird, инициализируем игру
                if (gameId === 'flappy-bird') {
                    initFlappyBird();
                }
            }
        }
        
        function closeWindow(gameId) {
            const windowElement = document.getElementById(`${gameId}-window`);
            const overlay = document.getElementById('overlay');
            
            if (windowElement) {
                windowElement.style.display = 'none';
                overlay.style.display = 'none';
                activeWindow = null;
                
                // Если это Flappy Bird, останавливаем игру
                if (gameId === 'flappy-bird') {
                    resetGame();
                }
            }
        }
        
        function closeAllWindows() {
            const windows = document.querySelectorAll('.game-window');
            const overlay = document.getElementById('overlay');
            
            windows.forEach(window => {
                window.style.display = 'none';
            });
            
            overlay.style.display = 'none';
            activeWindow = null;
            resetGame();
        }
        
        function minimizeWindow(gameId) {
            // В реальном приложении здесь можно добавить анимацию сворачивания
            closeWindow(gameId);
        }
        
        function maximizeWindow(gameId) {
            const windowElement = document.getElementById(`${gameId}-window`);
            if (windowElement) {
                if (windowElement.style.width === '100%') {
                    windowElement.style.width = '90%';
                    windowElement.style.height = '80vh';
                } else {
                    windowElement.style.width = '100%';
                    windowElement.style.height = '100vh';
                    windowElement.style.borderRadius = '0';
                }
            }
        }
        
        // Показать уведомление
        function showNotification(text) {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notification-text');
            
            notificationText.textContent = text;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }
        
        // Инициализация Flappy Bird
        let canvas, ctx;
        let bird, pipes;
        let gameLoop;
        let score = 0;
        let gameStarted = false;
        
        function initFlappyBird() {
            canvas = document.getElementById('game-canvas');
            ctx = canvas.getContext('2d');
            
            // Устанавливаем размеры canvas
            canvas.width = canvas.parentElement.clientWidth;
            canvas.height = canvas.parentElement.clientHeight;
            
            // Создаем птичку
            bird = {
                x: 50,
                y: canvas.height / 2,
                radius: 20,
                velocity: 0,
                gravity: 0.5,
                jump: -10,
                color: '#FFD700'
            };
            
            // Создаем трубы
            pipes = [];
            
            // Сбрасываем счет
            score = 0;
            document.getElementById('score').textContent = score;
            
            // Показываем кнопку старта
            document.getElementById('start-btn').style.display = 'block';
        }
        
        function startGame() {
            if (!gameStarted) {
                gameStarted = true;
                document.getElementById('start-btn').style.display = 'none';
                
                // Сбрасываем положение птички
                bird.y = canvas.height / 2;
                bird.velocity = 0;
                
                // Очищаем трубы
                pipes = [];
                score = 0;
                document.getElementById('score').textContent = score;
                
                // Создаем первую трубу
                addPipe();
                
                // Запускаем игровой цикл
                if (gameLoop) clearInterval(gameLoop);
                gameLoop = setInterval(updateGame, 20);
            }
        }
        
        function resetGame() {
            gameStarted = false;
            if (gameLoop) clearInterval(gameLoop);
            document.getElementById('start-btn').style.display = 'block';
        }
        
        function addPipe() {
            const gap = 150; // Расстояние между трубами
            const minHeight = 50;
            const maxHeight = canvas.height - gap - minHeight;
            const topHeight = Math.random() * (maxHeight - minHeight) + minHeight;
            
            pipes.push({
                x: canvas.width,
                topHeight: topHeight,
                bottomY: topHeight + gap,
                width: 60,
                passed: false
            });
        }
        
        function updateGame() {
            // Очищаем canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Обновляем птичку
            bird.velocity += bird.gravity;
            bird.y += bird.velocity;
            
            // Проверяем столкновение с землей и потолком
            if (bird.y + bird.radius > canvas.height || bird.y - bird.radius < 0) {
                gameOver();
                return;
            }
            
            // Обновляем трубы
            for (let i = pipes.length - 1; i >= 0; i--) {
                const pipe = pipes[i];
                
                // Двигаем трубу
                pipe.x -= 5;
                
                // Проверяем столкновение
                if (
                    bird.x + bird.radius > pipe.x &&
                    bird.x - bird.radius < pipe.x + pipe.width &&
                    (bird.y - bird.radius < pipe.topHeight || bird.y + bird.radius > pipe.bottomY)
                ) {
                    gameOver();
                    return;
                }
                
                // Проверяем, прошла ли птичка через трубу
                if (!pipe.passed && bird.x > pipe.x + pipe.width) {
                    pipe.passed = true;
                    score++;
                    document.getElementById('score').textContent = score;
                }
                
                // Удаляем трубу, если она ушла за экран
                if (pipe.x + pipe.width < 0) {
                    pipes.splice(i, 1);
                }
            }
            
            // Добавляем новую трубу каждые 100 кадров
            if (pipes.length === 0 || pipes[pipes.length - 1].x < canvas.width - 200) {
                addPipe();
            }
            
            // Отрисовываем фон
            ctx.fillStyle = '#4ec0ca';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Отрисовываем землю
            ctx.fillStyle = '#8B4513';
            ctx.fillRect(0, canvas.height - 30, canvas.width, 30);
            
            // Отрисовываем птичку
            ctx.fillStyle = bird.color;
            ctx.beginPath();
            ctx.arc(bird.x, bird.y, bird.radius, 0, Math.PI * 2);
            ctx.fill();
            
            // Отрисовываем глаз
            ctx.fillStyle = 'black';
            ctx.beginPath();
            ctx.arc(bird.x + 10, bird.y - 8, 5, 0, Math.PI * 2);
            ctx.fill();
            
            // Отрисовываем клюв
            ctx.fillStyle = '#FF6347';
            ctx.beginPath();
            ctx.moveTo(bird.x + 20, bird.y);
            ctx.lineTo(bird.x + 35, bird.y);
            ctx.lineTo(bird.x + 20, bird.y + 10);
            ctx.fill();
            
            // Отрисовываем трубы
            for (const pipe of pipes) {
                ctx.fillStyle = '#2E8B57';
                // Верхняя труба
                ctx.fillRect(pipe.x, 0, pipe.width, pipe.topHeight);
                // Нижняя труба
                ctx.fillRect(pipe.x, pipe.bottomY, pipe.width, canvas.height - pipe.bottomY);
            }
        }
        
        function gameOver() {
            clearInterval(gameLoop);
            gameStarted = false;
            
            // Показываем кнопку рестарта
            const startBtn = document.getElementById('start-btn');
            startBtn.textContent = `Игра окончена! Счет: ${score}. Играть снова?`;
            startBtn.style.display = 'block';
        }
        
        // Обработка кликов/тапов для прыжка
        document.addEventListener('click', function(event) {
            // Если игра активна и клик не по кнопке старта
            if (gameStarted && event.target.id !== 'start-btn') {
                bird.velocity = bird.jump;
            }
        });
        
        // Обработка нажатия пробела для прыжка
        document.addEventListener('keydown', function(event) {
            if (gameStarted && event.code === 'Space') {
                bird.velocity = bird.jump;
            }
        });
        
        // Адаптация canvas при изменении размера окна
        window.addEventListener('resize', function() {
            if (canvas) {
                canvas.width = canvas.parentElement.clientWidth;
                canvas.height = canvas.parentElement.clientHeight;
            }
        });
        
        // Инициализация при загрузке
        document.addEventListener('DOMContentLoaded', function() {
            showNotification('Добро пожаловать в игровой центр! Нажмите на Flappy Bird, чтобы начать играть.');
        });
    </script>
</body>
</html>
